<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="planet-kiosk-circular-progress">
  <template>
    <style include="planet-kiosk-page-styles">
      :host {
        position: relative;
      }

      svg {
        transform: rotate(-90deg);
        background: none;
        border-radius: 50%;
        animation: fillup 1s linear infinite;
      }

      circle {
        fill: none;
        stroke: var(--circular-progress-stroke, --planet-color-theme-primary);
        stroke-width: var(--circular-progress-stroke-width, 5);
        transition: 1s linear;
      }

      text {
        font-family: var(--circular-progress-font-family ,--planet-font-family-book);
        fill: var(--circular-progress-font-color, --planet-color-theme-desc);
        font-size: var(--circular-progress-font-size, 1em);
      }

    </style>

    <div>
      <svg viewBox="0 0 32 32" width$="{{size}}" height$="{{size}}">
        <circle r="16" cx="16" cy="16" id="circle" stroke-dasharray$="{{_getStrokeDashArray(percent)}}"></circle>
        <text x="16" y="16" transform="rotate(90 16,16)" text-anchor="middle" alignment-baseline="central">{{ text }}</text>
      </svg>
    </div>

  </template>

  <script>
    Polymer({
      is: 'planet-kiosk-circular-progress',
      properties: {
        percent: {
          type: Number,
          value: 0
        },
        text: {
          type: String,
          value: ''
        },
        size: {
          type: String,
          value: '150px'
        }
      },
      _getStrokeDashArray: function(percent) {
        return percent + ' 100';
      }
    });
  </script>

</dom-module>